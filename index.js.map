{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '46773750-2567d69edc75d4703fc28c418';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport default async function fetchData(param) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: param,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 30,\n  });\n  \n  return axios\n    .get(`${BASE_URL}?${params}`)\n    .then(res => {\n      return res.data;\n    })\n    .catch(e => {\n      console.log(e.message);\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst list = document.querySelector('.list');\nconst sLightBox = new SimpleLightbox('.list .list-item a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function fillGallery(arr) {\n  const images = arr\n    .map(\n      ({\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class=\"list-item\"><a href=\"${largeImageURL}\">\n            <div class=\"image-box\">\n              <img src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\"></div>\n              <ul class=\"description\">\n                <li><p>Likes:</p><span>${likes}</span></li>\n                <li><p>Views:</p><span>${views}</span></li>\n                <li><p>Comments:</p><span>${comments}</span></li>\n                <li><p>Downloads:</p><span>${downloads}</span></li>\n              </ul>\n              \n            </a></li>`\n    )\n    .join('');\n  list.insertAdjacentHTML('beforeend', images);\n\n  sLightBox.refresh();\n}\nexport function clearGallery() {\n  list.innerHTML = '';\n}\n","import fetchData from './js/pixabay-api.js';\nimport { fillGallery, clearGallery } from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst API_KEY = '46912629-60bc072e101e3ae51ad98b0ad';\nconst list = document.querySelector('.list');\nconst form = document.querySelector('.searching-form');\nconst loader = document.querySelector('.loader');\nform.addEventListener('submit', handlerSubmit);\n\nasync function handlerSubmit(e) {\n  e.preventDefault();\n  list.innerHTML = '';\n  loader.style.display = 'block';\n  const request = e.target.elements.search.value.trim();\n  if (!request) {\n    loader.style.display = 'none';\n    showAlert('error');\n    return;\n  }\n  const dataImages = await fetchData(request);\n  loader.style.display = 'none';\n  if (parseInt(dataImages.totalHits)) {\n    fillGallery(dataImages.hits);\n  } else {\n    clearGallery();\n    showAlert('sorry');\n  }\n}\nfunction showAlert(type) {\n  iziToast.error({\n    title: type === 'error' ? 'Error' : '',\n    message:\n      type === 'error'\n        ? 'Request cannot be empty, please, enter text'\n        : `Sorry, there are no images matching your search query. Please try again!`,\n    position: 'topRight',\n    maxWidth: '400px',\n    color: '#EF4040',\n    theme: 'dark',\n  });\n}\n"],"names":["API_KEY","BASE_URL","fetchData","param","params","axios","res","e","list","sLightBox","SimpleLightbox","fillGallery","arr","images","largeImageURL","webformatURL","tags","likes","views","comments","downloads","clearGallery","form","loader","handlerSubmit","request","showAlert","dataImages","type","iziToast"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEF,eAAeC,EAAUC,EAAO,CAC7C,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,CAAG,EAED,OAAOE,EACJ,IAAI,GAAGJ,CAAQ,IAAIG,CAAM,EAAE,EAC3B,KAAKE,GACGA,EAAI,IACZ,EACA,MAAMC,GAAK,CACV,QAAQ,IAAIA,EAAE,OAAO,CAC3B,CAAK,CACL,CCpBA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAY,IAAIC,EAAe,qBAAsB,CACzD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAYC,EAAK,CAC/B,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,cAAAE,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC,kCAAkCN,CAAa;AAAA;AAAA,0BAE7BC,CAAY,UAAUC,CAAI;AAAA;AAAA,yCAEXC,CAAK;AAAA,yCACLC,CAAK;AAAA,4CACFC,CAAQ;AAAA,6CACPC,CAAS;AAAA;AAAA;AAAA,sBAIjD,EACA,KAAK,EAAE,EACVZ,EAAK,mBAAmB,YAAaK,CAAM,EAE3CJ,EAAU,QAAO,CACnB,CACO,SAASY,GAAe,CAC7Bb,EAAK,UAAY,EACnB,CClCA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCc,EAAO,SAAS,cAAc,iBAAiB,EAC/CC,EAAS,SAAS,cAAc,SAAS,EAC/CD,EAAK,iBAAiB,SAAUE,CAAa,EAE7C,eAAeA,EAAcjB,EAAG,CAC9BA,EAAE,eAAc,EAChBC,EAAK,UAAY,GACjBe,EAAO,MAAM,QAAU,QACvB,MAAME,EAAUlB,EAAE,OAAO,SAAS,OAAO,MAAM,OAC/C,GAAI,CAACkB,EAAS,CACZF,EAAO,MAAM,QAAU,OACvBG,EAAU,OAAO,EACjB,MACD,CACD,MAAMC,EAAa,MAAMzB,EAAUuB,CAAO,EAC1CF,EAAO,MAAM,QAAU,OACnB,SAASI,EAAW,SAAS,EAC/BhB,EAAYgB,EAAW,IAAI,GAE3BN,IACAK,EAAU,OAAO,EAErB,CACA,SAASA,EAAUE,EAAM,CACvBC,EAAS,MAAM,CACb,MAAOD,IAAS,QAAU,QAAU,GACpC,QACEA,IAAS,QACL,8CACA,2EACN,SAAU,WACV,SAAU,QACV,MAAO,UACP,MAAO,MACX,CAAG,CACH"}